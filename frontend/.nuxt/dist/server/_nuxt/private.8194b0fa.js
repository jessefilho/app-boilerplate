import{q as VAvatar,r as navigateTo,s as VMenu,n as VBtn,j as VCard,t as VList,v as VListItem,w as VIcon,x as VDivider,y as VCardActions,z as VSpacer,A as VBreadcrumbs,B as VNavigationDrawer,C as VListItemTitle,D as VListItemSubtitle,o as VApp,E as VAppBar,G as VToolbarTitle,H as VFooter,p as VMain,g as VContainer}from"../server.mjs";import{openBlock,createBlock,withCtx,createElementVNode,toDisplayString,resolveComponent,createElementBlock,createVNode,mergeProps,createTextVNode,Fragment,renderList,createCommentVNode,withModifiers,renderSlot}from"vue";import{_ as _export_sfc}from"./_plugin-vue_export-helper.a1a6add7.js";import"#internal/nitro";import"vue-router";const _sfc_main$5={name:"avatar",props:["user"],methods:{fullname(){return this.user.first_name+" "+this.user.last_name},initial(){return this.user.first_name.substring(0,1)+this.user.last_name.substring(0,1)}}},_hoisted_1$2={class:"text-h5",style:{color:"white"}};function _sfc_render$5(r,t,o,l,e,a){return openBlock(),createBlock(VAvatar,{color:"primary",size:"default",alt:a.fullname()},{default:withCtx(()=>[createElementVNode("span",_hoisted_1$2,toDisplayString(a.initial()),1)]),_:1},8,["alt"])}const Avatar=_export_sfc(_sfc_main$5,[["render",_sfc_render$5]]),ProfileMenu_vue_vue_type_style_index_0_scoped_0fffcdd1_lang="",_sfc_main$4={name:"ProfileMenu",components:{Avatar},props:["user"],data(){return{inDev:this.$session.inDev(),svgPath:"mdi-thumb-up",fav:!1,menu:!1,items:[{text:"Mon profil",icon:"mdi-account",to:"/user/profile"},{text:"\xC0 propos de cette application",icon:"mdi-information",to:"/about"}]}},methods:{sign_out(){this.$session.logout(),navigateTo("/sign_in")}}},_hoisted_1$1={class:"text-center"};function _sfc_render$4(r,t,o,l,e,a){const s=resolveComponent("avatar"),i=resolveComponent("v-list-item-group");return openBlock(),createElementBlock("div",_hoisted_1$1,[createVNode(VMenu,{"nudge-width":200,"close-on-content-click":!1,location:"bottom"},{activator:withCtx(({props:n})=>[createVNode(VBtn,mergeProps(n,{elevation:"0"}),{default:withCtx(()=>[createTextVNode(toDisplayString(o.user.first_name.substring(0,1)+". ")+" "+toDisplayString(o.user.last_name.split(" ")[0]),1)]),_:2},1040)]),default:withCtx(()=>[createVNode(VCard,null,{default:withCtx(()=>[createVNode(VList,null,{default:withCtx(()=>[createVNode(VListItem,{title:o.user.first_name+" "+o.user.last_name,subtitle:o.user.position},{prepend:withCtx(()=>[createVNode(s,{user:o.user},null,8,["user"])]),append:withCtx(()=>[createVNode(VBtn,{onClick:t[0]||(t[0]=n=>e.fav=!e.fav),elevation:"0"},{default:withCtx(()=>[e.fav?(openBlock(),createBlock(VIcon,{key:0,color:"primary"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.svgPath),1)]),_:1})):(openBlock(),createBlock(VIcon,{key:1,color:"primary"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.svgPath),1)]),_:1}))]),_:1})]),_:1},8,["title","subtitle"])]),_:1}),createVNode(VDivider),e.inDev?(openBlock(),createBlock(VList,{key:0,density:"compact"},{default:withCtx(()=>[createVNode(i,{color:"primary"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.items,(n,u)=>(openBlock(),createBlock(VListItem,{key:u,to:n.to,title:n.text,onClick:t[1]||(t[1]=c=>e.menu=!1)},{prepend:withCtx(()=>[createVNode(VIcon,{color:"primary"},{default:withCtx(()=>[createTextVNode(toDisplayString(n.icon),1)]),_:2},1024)]),_:2},1032,["to","title"]))),128))]),_:1})]),_:1})):createCommentVNode("",!0),createVNode(VCardActions,null,{default:withCtx(()=>[createVNode(VSpacer),createVNode(VBtn,{variant:"flat",color:"error",text:"",onClick:t[2]||(t[2]=n=>a.sign_out())},{default:withCtx(()=>[createTextVNode(" Logout ")]),_:1})]),_:1})]),_:1})]),_:1})])}const ProfileMenu=_export_sfc(_sfc_main$4,[["render",_sfc_render$4],["__scopeId","data-v-0fffcdd1"]]),_sfc_main$3={name:"ModuleList",props:["rails"],data(){return{user:this.$session.user()}},mounted(){},methods:{selectedMenu(){const group_id=this.user.members.find(r=>r.main===!0).group_id,main_menu=eval(this.user.groups.find(r=>r.id===group_id).menu);let aux_menus=Object.assign([],...this.user.groups.map(item=>eval(item.menu)));return[...new Map([...main_menu,...aux_menus].map(r=>[r.title,r])).values()]}}};function _sfc_render$3(r,t,o,l,e,a){return openBlock(),createElementBlock("div",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.selectedMenu(),(s,i)=>(openBlock(),createBlock(VListItem,{key:i,to:s.to,title:s.title,router:"",exact:""},{prepend:withCtx(()=>[createVNode(VIcon,{color:"primary"},{default:withCtx(()=>[createTextVNode(toDisplayString(s.icon),1)]),_:2},1024)]),_:2},1032,["to","title"]))),128))])}const ModuleList=_export_sfc(_sfc_main$3,[["render",_sfc_render$3]]),_sfc_main$2={name:"BreadCrumb",data(){return{inDev:this.$session.inDev(),items:[{text:"Dashboard",disabled:!1,href:"breadcrumbs_dashboard"},{text:"Link 1",disabled:!1,href:"breadcrumbs_link_1"},{text:"Link 2",disabled:!0,href:"breadcrumbs_link_2"}]}},computed:{crumbs(){return this.items}}},_hoisted_1={key:0};function _sfc_render$2(r,t,o,l,e,a){return a.crumbs.length!=0?(openBlock(),createElementBlock("div",_hoisted_1,[e.inDev?(openBlock(),createBlock(VBreadcrumbs,{key:0,items:a.crumbs},null,8,["items"])):createCommentVNode("",!0)])):createCommentVNode("",!0)}const BreadCrumb=_export_sfc(_sfc_main$2,[["render",_sfc_render$2]]),_sfc_main$1={name:"drawers",components:{ModuleList,ProfileMenu,Avatar},props:["user"],data(){return{drawer:!0,rail:!1}}};function _sfc_render$1(r,t,o,l,e,a){const s=resolveComponent("v-list-item-content"),i=resolveComponent("avatar"),n=resolveComponent("profile-menu"),u=resolveComponent("module-list");return openBlock(),createBlock(VNavigationDrawer,{modelValue:e.drawer,"onUpdate:modelValue":t[1]||(t[1]=c=>e.drawer=c),rail:e.rail,permanent:"",onClick:t[2]||(t[2]=c=>e.rail=!1)},{default:withCtx(()=>[e.rail?createCommentVNode("",!0):(openBlock(),createBlock(VListItem,{key:0},{default:withCtx(()=>[createVNode(s,null,{default:withCtx(()=>[createVNode(VListItemTitle,{class:"text-h6"},{default:withCtx(()=>[createTextVNode(" Vermon USA ")]),_:1}),createVNode(VListItemSubtitle,null,{default:withCtx(()=>[createTextVNode(" Application Modules ")]),_:1})]),_:1})]),_:1})),createVNode(VListItem,{nav:""},{prepend:withCtx(()=>[createVNode(i,{user:o.user},null,8,["user"])]),title:withCtx(()=>[createVNode(n,{user:o.user},null,8,["user"])]),append:withCtx(()=>[createVNode(VBtn,{variant:"text",icon:"mdi-chevron-left",onClick:t[0]||(t[0]=withModifiers(c=>e.rail=!e.rail,["stop"]))})]),_:1}),createVNode(VDivider),createVNode(u,{rail:e.rail},null,8,["rail"])]),_:1},8,["modelValue","rail"])}const Drawers=_export_sfc(_sfc_main$1,[["render",_sfc_render$1]]),_sfc_main={middleware:["auth"],name:"private",components:{Drawers,BreadCrumb,ModuleList,Avatar,ProfileMenu},data(){return{drawer:!0,user:this.$session.user(),title:"NURA"}}};function _sfc_render(r,t,o,l,e,a){const s=resolveComponent("bread-crumb"),i=resolveComponent("drawers");return openBlock(),createBlock(VApp,null,{default:withCtx(()=>[createVNode(VAppBar,{absolute:!1,elevation:"1"},{default:withCtx(()=>[createVNode(VBtn,{icon:"",onClick:t[0]||(t[0]=withModifiers(n=>e.drawer=!e.drawer,["stop"]))},{default:withCtx(()=>[e.drawer?(openBlock(),createBlock(VIcon,{key:0},{default:withCtx(()=>[createTextVNode(" mdi-menu-open ")]),_:1})):(openBlock(),createBlock(VIcon,{key:1},{default:withCtx(()=>[createTextVNode(" mdi-menu ")]),_:1}))]),_:1}),createVNode(VToolbarTitle,{textContent:toDisplayString(e.title)},null,8,["textContent"]),createVNode(s),createVNode(VSpacer)]),_:1}),createVNode(VFooter,{style:{"z-index":"2000"},fixed:"",app:""},{default:withCtx(()=>[createElementVNode("span",null," Vermon USA \xA9 "+toDisplayString(new Date().getFullYear()),1)]),_:1}),createVNode(i,{modelValue:e.drawer,"onUpdate:modelValue":t[1]||(t[1]=n=>e.drawer=n),user:e.user},null,8,["modelValue","user"]),createVNode(VMain,null,{default:withCtx(()=>[createVNode(VContainer,{fluid:""},{default:withCtx(()=>[renderSlot(r.$slots,"default")]),_:3})]),_:3})]),_:3})}const _private=_export_sfc(_sfc_main,[["render",_sfc_render]]);export{_private as default};
//# sourceMappingURL=private.8194b0fa.js.map
