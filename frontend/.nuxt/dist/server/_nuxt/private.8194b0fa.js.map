{"version":3,"file":"private.8194b0fa.js","sources":["../../../../components/user/profiling/avatar.vue","../../../../components/user/profiling/ProfileMenu.vue","../../../../components/layout/sidelist/ModuleList.vue","../../../../components/layout/pagespaths/BreadCrumb.vue","../../../../components/layout/navigation/drawers.vue","../../../../layouts/private.vue"],"sourcesContent":["<template>\n  <v-avatar\n    color=\"primary\"\n    size=\"default\"\n    :alt=\"fullname()\"\n  >\n    <span class=\"text-h5\" style=\"color: white\">{{initial()}}</span>\n  </v-avatar>\n</template>\n\n<script>\n\nexport default {\n  name: \"avatar\",\n  props:['user'],\n  methods:{\n    fullname(){\n      return this.user.first_name+' '+this.user.last_name\n    },\n    initial(){\n      return this.user.first_name.substring(0,1) + this.user.last_name.substring(0,1)\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","<template>\n  <div class=\"text-center\">\n    <v-menu\n        :nudge-width=\"200\"\n        :close-on-content-click=\"false\"\n        location=\"bottom\"\n    >\n      <template v-slot:activator=\"{ props }\">\n        <v-btn\n            v-bind=\"props\"\n            elevation=\"0\"\n        >\n          {{ user.first_name.substring(0,1) + '. '}} {{ user.last_name.split(' ')[0] }}\n        </v-btn>\n      </template>\n\n      <v-card>\n        <v-list>\n          <v-list-item\n              :title=\"user.first_name+ ' '+ user.last_name\"\n              :subtitle=\"user.position\"\n          >\n            <template v-slot:prepend>\n              <avatar :user=\"user\" />\n            </template>\n\n            <template v-slot:append>\n              <v-btn\n                  @click=\"fav = !fav\"\n                  elevation=\"0\"\n              >\n                <v-icon color=\"primary\" v-if=\"fav\">{{ svgPath }}</v-icon>\n                <v-icon v-else color=\"primary\">{{ svgPath }}</v-icon>\n\n              </v-btn>\n            </template>\n\n          </v-list-item>\n        </v-list>\n        <v-divider></v-divider>\n        <v-list density=\"compact\" v-if=\"inDev\">\n          <v-list-item-group\n              color=\"primary\"\n          >\n            <v-list-item\n                v-for=\"(item, i) in items\"\n                :key=\"i\"\n                :to=\"item.to\"\n                :title=\"item.text\"\n                @click=\"menu=false\"\n            >\n              <template v-slot:prepend>\n                <v-icon color=\"primary\">{{ item.icon }}</v-icon>\n              </template>\n\n            </v-list-item>\n          </v-list-item-group>\n        </v-list>\n\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn\n              variant=\"flat\"\n              color=\"error\"\n              text\n              @click=\"sign_out()\"\n          >\n            Logout\n          </v-btn>\n        </v-card-actions>\n\n      </v-card>\n\n    </v-menu>\n\n  </div>\n</template>\n\n<script>\nimport Avatar from \"./avatar\";\n\nexport default {\n  name: \"ProfileMenu\",\n  components: {Avatar},\n  props:['user'],\n  data () {\n    return {\n      inDev: this.$session.inDev(),\n      svgPath: 'mdi-thumb-up',\n      fav:false,\n      menu:false,\n      items: [\n        // { text: 'Real-Time', icon: 'mdi-info' },\n        { text: 'Mon profil', icon: 'mdi-account', to: '/user/profile' },\n        { text: 'Ã€ propos de cette application', icon: 'mdi-information', to: '/about' },\n      ],\n    }\n  },\n  methods:{\n    sign_out(){\n      /**\n       * todo: call logout procedure\n       */\n      // this.$auth.$storage.removeUniversal('user')\n      // Remove saved data from sessionStorage\n      this.$session.logout()\n      navigateTo('/sign_in')\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n.v-menu__content--fixed {\n  left: 265px !important;\n  top: 85px !important;\n}\n\n</style>\n","<template>\n  <div>\n    <v-list-item\n      v-for=\"(item, i) in selectedMenu()\"\n      :key=\"i\"\n      :to=\"item.to\"\n      :title=\"item.title\"\n      router\n      exact\n    >\n      <template v-slot:prepend>\n        <v-icon color=\"primary\">\n          {{item.icon}}\n        </v-icon>\n      </template>\n    </v-list-item>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"ModuleList\",\n  props:['rails'],\n  data(){\n    return {\n      user: this.$session.user(),\n    }\n  },\n  mounted() {\n    // console.log(this.user)\n  },\n  methods:{\n    selectedMenu() {\n\n      //todo: to refactore it\n      // get main group id\n      const group_id = this.user['members'].find(item => item.main === true)['group_id']\n      // extract main menu then convert to an array of objects\n      const main_menu = eval(this.user.groups.find(item => item.id === group_id).menu)\n      // pick the other groups (here we may get all groups, then remove the duplicated menus, but main menu disappears)\n      let aux_menus = Object.assign([], ...this.user.groups.map(item => eval(item.menu)) )\n      // finally, merge and ensure a list with unique menu\n      //  the sequence is important, the main menu MUST be on top\n      return [...new Map([...main_menu, ...aux_menus].map(item =>\n        [item['title'], item])).values()];\n      // return [{}]\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","<template>\n  <div v-if=\"crumbs.length != 0 \">\n\n    <v-breadcrumbs\n        v-if=\"inDev\"\n        :items=\"crumbs\"\n    />\n\n  </div>\n\n</template>\n\n<script>\nexport default {\n  name: \"BreadCrumb\",\n  data (){\n    return {\n      inDev: this.$session.inDev(),\n      items: [\n        {\n          text: 'Dashboard',\n          disabled: false,\n          href: 'breadcrumbs_dashboard',\n        },\n        {\n          text: 'Link 1',\n          disabled: false,\n          href: 'breadcrumbs_link_1',\n        },\n        {\n          text: 'Link 2',\n          disabled: true,\n          href: 'breadcrumbs_link_2',\n        },\n      ],\n    }\n  },\n  computed: {\n    // crumbs() {\n    //   let fullPath = this.$route.path\n    //   console.log(this.$route.matched)\n    //   const params = fullPath.substring(1).split('/')\n    //   // params.pop() // it remove finish path\n    //   const crumbs = []\n    //   let path = ''\n    //\n    //   params.forEach((param, index, { length }) => {\n    //     path = `${path}/${param}`\n    //     console.log(path)\n    //     console.log(this.$router)\n    //     console.log(this.$router.hasRoute(path))\n    //     const match = this.$route.match(path)\n    //     // console.log(path)\n    //     if (match.name !== 'index') {\n    //       if (index === length - 1) {\n    //         crumbs.push({\n    //           text: path.replace(/\\//g, '-').slice(1),\n    //           disabled: true,\n    //         })\n    //       } else {\n    //         crumbs.push({\n    //           text: path.replace(/\\//g, '-').slice(1),\n    //           disabled: false,\n    //           href: path + '/',\n    //         })\n    //       }\n    //     }\n    //   })\n    //\n    //   // console.log(crumbs)\n    //   return crumbs\n    // },\n    crumbs() {\n      return this.items\n    }\n\n\n  },\n}\n</script>\n\n<style scoped>\n\n</style>\n","<template>\r\n  <v-navigation-drawer\r\n      v-model=\"drawer\"\r\n      :rail=\"rail\"\r\n      permanent\r\n      @click=\"rail = false\"\r\n  >\r\n    <v-list-item v-if=\"!rail\">\r\n      <v-list-item-content>\r\n        <v-list-item-title class=\"text-h6\">\r\n          Vermon USA\r\n        </v-list-item-title>\r\n        <v-list-item-subtitle>\r\n          Application Modules\r\n        </v-list-item-subtitle>\r\n      </v-list-item-content>\r\n    </v-list-item>\r\n\r\n    <v-list-item nav >\r\n      <template v-slot:prepend>\r\n        <avatar :user=\"user\" />\r\n      </template>\r\n\r\n      <template v-slot:title>\r\n        <profile-menu :user=\"user\"/>\r\n      </template>\r\n\r\n      <template v-slot:append>\r\n        <v-btn\r\n            variant=\"text\"\r\n            icon=\"mdi-chevron-left\"\r\n            @click.stop=\"rail = !rail\"\r\n        ></v-btn>\r\n      </template>\r\n\r\n    </v-list-item>\r\n\r\n\r\n    <v-divider></v-divider>\r\n\r\n\r\n    <module-list :rail=\"rail\"/>\r\n\r\n  </v-navigation-drawer>\r\n</template>\r\n\r\n<script>\r\n\r\nimport Avatar from \"~/components/user/profiling/avatar.vue\";\r\nimport ProfileMenu from \"~/components/user/profiling/ProfileMenu.vue\";\r\nimport ModuleList from \"~/components/layout/sidelist/ModuleList.vue\";\r\n\r\nexport default {\r\n  name: \"drawers\",\r\n  components: {ModuleList, ProfileMenu, Avatar},\r\n  props:['user'],\r\n  data(){\r\n    return {\r\n      drawer: true,\r\n      rail: false,\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","<template>\n  <v-app >\n    <v-app-bar\n        :absolute=\"false\"\n        elevation=\"1\">\n      <v-btn icon @click.stop=\"drawer = !drawer\">\n        <v-icon v-if=\"drawer\"> mdi-menu-open </v-icon>\n        <v-icon v-else> mdi-menu </v-icon>\n      </v-btn>\n      <v-toolbar-title v-text=\"title\"/>\n      <bread-crumb></bread-crumb>\n      <v-spacer/>\n    </v-app-bar>\n    <v-footer\n        style=\"z-index: 2000;\"\n        fixed\n        app\n    >\n      <span> Vermon USA &copy; {{ new Date().getFullYear() }}</span>\n    </v-footer>\n    <drawers v-model=\"drawer\" :user=\"user\" />\n\n    <v-main>\n      <v-container fluid>\n        <slot/>\n      </v-container>\n    </v-main>\n\n  </v-app>\n</template>\n\n<script>\nimport ProfileMenu from \"../components/user/profiling/ProfileMenu\";\nimport Avatar from \"../components/user/profiling/avatar\";\nimport ModuleList from \"../components/layout/sidelist/ModuleList\";\nimport BreadCrumb from \"../components/layout/pagespaths/BreadCrumb\";\nimport Drawers from \"~/components/layout/navigation/drawers.vue\";\n\nexport default {\n  middleware: [\"auth\"],\n  name: \"private\",\n  components: {Drawers, BreadCrumb, ModuleList, Avatar, ProfileMenu},\n  data() {\n    return {\n      drawer: true,\n      user: this.$session.user(),\n      title: 'NURA',\n    }\n  },\n\n}\n</script>\n\n<style scoped>\n\n</style>\n"],"names":["_sfc_main","_createBlock","_component_v_avatar","$options","_createElementVNode","_hoisted_1","_toDisplayString","_openBlock","_createElementBlock","_createVNode","_component_v_btn","_mergeProps","props","$props","_withCtx","_Fragment","_renderList","$data","item","i","_cache","$event","_createTextVNode","_component_v_list_item","_component_v_icon","_component_v_breadcrumbs","_component_v_navigation_drawer","_component_v_list_item_content","_component_v_list_item_title","_component_v_list_item_subtitle","_component_avatar","_component_profile_menu","_withModifiers","_component_v_divider","_component_module_list","_component_v_app","_component_v_app_bar","_component_v_toolbar_title","_component_bread_crumb","_component_v_spacer","_component_v_footer","_component_drawers","_component_v_main","_component_v_container","_renderSlot","_ctx"],"mappings":"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"}